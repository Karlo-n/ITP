<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cannabis - Galería de Imágenes | InfoSustancias</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="../cannabis/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <style>
        /* Estilos para el botón de ver poster completo */
        .view-full-poster {
            position: absolute;
            top: 20px;
            right: 70px;
            background-color: rgba(255, 255, 255, 0.8);
            color: #333;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            z-index: 10;
            transition: all 0.3s ease;
            border: none;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }
        
        .view-full-poster:hover {
            background-color: #558b2f;
            color: white;
            transform: translateY(-2px);
        }
        
        /* Estilos para el modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
        }
        
        .modal-content {
            position: relative;
            max-width: 90%;
            max-height: 90%;
            margin: auto;
            display: block;
            top: 50%;
            transform: translateY(-50%);
        }
        
        .close-modal {
            position: absolute;
            top: 20px;
            right: 30px;
            color: white;
            font-size: 30px;
            font-weight: bold;
            cursor: pointer;
            z-index: 1001;
            transition: all 0.3s ease;
        }
        
        .close-modal:hover {
            color: #558b2f;
        }
    </style>
</head>
<body>
    <header class="site-header">
        <div class="container">
            <div class="logo">
                <h1>InfoSustancias</h1>
                <p class="tagline">Información y Educación sobre Sustancias</p>
            </div>
            <nav class="main-nav">
                <ul>
                    <li><a href="/">Inicio</a></li>
                    <li><a href="/articulos">Artículos</a></li>
                    <li><a href="/recursos">Recursos</a></li>
                    <li><a href="/ayuda">Ayuda</a></li>
                    <li><a href="/acerca">Acerca de</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Barra de navegación de sustancias -->
    <section class="substance-buttons">
        <div class="container">
            <div class="buttons-container">
                <a href="/cannabis" class="substance-button cannabis-btn">Cannabis</a>
                <a href="/fentanillo" class="substance-button fentanyl-btn">Fentanilo</a>
                <a href="/alcohol" class="substance-button alcohol-btn">Alcohol</a>
                <a href="/inhalables" class="substance-button inhalants-btn">Inhalables</a>
                <a href="/metanfetamina" class="substance-button methamphetamine-btn">Metanfetamina</a>
                <a href="/vapeadores" class="substance-button vaping-btn">Vapeadores/Tabaco</a>
                <a href="/benzodiazepinas" class="substance-button benzos-btn">Benzodiazepinas</a>
            </div>
        </div>
    </section>

    <main>
        <div class="container">
            <div class="gallery-container">
                <h1 class="gallery-title">Galería de Imágenes: Cannabis</h1>
                
                <div class="image-container" id="imageContainer">
                    <!-- Controles de navegación (solo flechas) -->
                    <div class="gallery-controls">
                        <div class="nav-btn left" onclick="changeImage(-1)">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                        </div>
                        <div class="nav-btn right" onclick="changeImage(1)">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </div>
                    </div>
                    
                    <!-- Botón para ver poster completo -->
                    <button class="view-full-poster" onclick="openFullPoster()">Ver poster completo</button>
                    
                    <!-- Imágenes de la galería -->
                    <img src="cannabis-1.jpg" alt="Cannabis Imagen 1" class="gallery-image active" data-index="0">
                    <img src="cannabis-2.jpg" alt="Cannabis Imagen 2" class="gallery-image" data-index="1">
                    <img src="cannabis-3.jpg" alt="Cannabis Imagen 3" class="gallery-image" data-index="2">
                    <img src="cannabis-4.jpg" alt="Cannabis Imagen 4" class="gallery-image" data-index="3">
                    <img src="cannabis-5.jpg" alt="Cannabis Imagen 5" class="gallery-image" data-index="4">
                    
                    <!-- Descripción de la imagen -->
                    <div class="gallery-caption">
                        La planta de cannabis contiene más de 100 compuestos únicos llamados cannabinoides, siendo el THC y el CBD los más estudiados.
                    </div>
                </div>
                
                <!-- Puntos de navegación -->
                <div class="gallery-nav">
                    <div class="nav-dot active" onclick="showImage(0)"></div>
                    <div class="nav-dot" onclick="showImage(1)"></div>
                    <div class="nav-dot" onclick="showImage(2)"></div>
                    <div class="nav-dot" onclick="showImage(3)"></div>
                    <div class="nav-dot" onclick="showImage(4)"></div>
                </div>
                
                <div class="gallery-info">
                    <p>Esta galería muestra diferentes aspectos relacionados con el cannabis, desde la planta en sus distintas etapas hasta representaciones de sus efectos y usos medicinales y recreativos.</p>
                    <p>El contenido tiene fines exclusivamente educativos e informativos, como parte de nuestro compromiso con la educación basada en evidencia científica.</p>
                </div>
            </div>
        </div>
    </main>

    <!-- Modal para mostrar la imagen a tamaño completo -->
    <div id="imageModal" class="modal">
        <span class="close-modal" onclick="closeModal()">&times;</span>
        <img id="fullPosterImage" class="modal-content">
    </div>

    <footer class="site-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>InfoSustancias</h3>
                    <p>Un proyecto educativo desarrollado por estudiantes con fines exclusivamente informativos y académicos.</p>
                </div>
                <div class="footer-column">
                    <h4>Enlaces rápidos</h4>
                    <ul>
                        <li><a href="/">Inicio</a></li>
                        <li><a href="/articulos">Artículos</a></li>
                        <li><a href="/recursos">Recursos</a></li>
                        <li><a href="/ayuda">Ayuda</a></li>
                        <li><a href="/acerca">Acerca de</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4>Aviso legal</h4>
                    <p>Este sitio proporciona información educativa desarrollada por estudiantes con fines académicos y no sustituye el consejo médico profesional. La información presentada tiene únicamente propósitos informativos.</p>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2025 InfoSustancias. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <script>
        // JavaScript para el funcionamiento de la galería
        let currentImageIndex = 0;
        const images = document.querySelectorAll('.gallery-image');
        const dots = document.querySelectorAll('.nav-dot');
        const captions = [
            "La planta de cannabis contiene más de 100 compuestos únicos llamados cannabinoides, siendo el THC y el CBD los más estudiados.",
            "El THC (tetrahidrocannabinol) es el principal componente psicoactivo del cannabis que interactúa con el sistema endocannabinoide del cerebro.",
            "El CBD (cannabidiol) es un componente no psicoactivo del cannabis que ha mostrado potencial terapéutico para varias condiciones médicas.",
            "Los efectos del cannabis varían significativamente dependiendo de la composición química, dosis, método de consumo y factores individuales.",
            "El consumo regular de cannabis durante la adolescencia puede afectar el desarrollo cerebral y aumentar el riesgo de problemas de salud mental a largo plazo."
        ];
        const captionElement = document.querySelector('.gallery-caption');
        const imageContainer = document.getElementById('imageContainer');
        const modal = document.getElementById('imageModal');
        const fullPosterImage = document.getElementById('fullPosterImage');

        // Verificar si hay imágenes disponibles
        function checkImages() {
            if (images.length === 0) {
                imageContainer.classList.add('no-images');
                return false;
            }
            return true;
        }

        // Función para mostrar una imagen específica
        function showImage(index) {
            if (!checkImages()) return;
            
            if (index < 0) index = images.length - 1;
            if (index >= images.length) index = 0;
            
            // Actualizar imágenes
            images.forEach(img => img.classList.remove('active'));
            images[index].classList.add('active');
            
            // Actualizar puntos de navegación
            dots.forEach(dot => dot.classList.remove('active'));
            dots[index].classList.add('active');
            
            // Actualizar leyenda
            captionElement.textContent = captions[index];
            
            currentImageIndex = index;
        }

        // Función para cambiar a la siguiente o anterior imagen
        function changeImage(direction) {
            if (!checkImages()) return;
            showImage(currentImageIndex + direction);
        }

        // Función para abrir el poster completo en un modal
        function openFullPoster() {
            // Obtener la imagen activa actual
            const activeImage = document.querySelector('.gallery-image.active');
            if (!activeImage) return;
            
            // Establecer la fuente del modal con la imagen actual
            fullPosterImage.src = activeImage.src;
            
            // Mostrar el modal
            modal.style.display = 'block';
            
            // Detener el carrusel automático
            clearInterval(slideInterval);
        }
        
        // Función para cerrar el modal
        function closeModal() {
            modal.style.display = 'none';
            
            // Reanudar el carrusel automático
            slideInterval = setInterval(() => {
                if (checkImages()) {
                    changeImage(1);
                }
            }, 5000);
        }
        
        // Cerrar modal al hacer clic fuera de la imagen
        window.onclick = function(event) {
            if (event.target == modal) {
                closeModal();
            }
        }

        // Configurar intervalo para cambio automático de imágenes
        let slideInterval = setInterval(() => {
            if (checkImages()) {
                changeImage(1);
            }
        }, 5000);

        // Detener el cambio automático cuando el usuario interactúa con la galería
        imageContainer.addEventListener('mouseenter', () => {
            clearInterval(slideInterval);
        });

        // Reanudar el cambio automático cuando el usuario deja de interactuar
        imageContainer.addEventListener('mouseleave', () => {
            slideInterval = setInterval(() => {
                if (checkImages()) {
                    changeImage(1);
                }
            }, 5000);
        });

        // Verificar imágenes al cargar
        checkImages();
    </script>
</body>
</html>
